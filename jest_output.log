FAIL __tests__/parsers.test.js
  cleanMd
    âˆš strips bold and headers (5 ms)
    âˆš truncates at metadata keys (2 ms)
    âˆš returns empty for null/undefined (2 ms)
  parseNum
    âˆš parses BR number with comma decimal (1 ms)
    âˆš parses simple decimal
    âˆš parses integer (1 ms)
    âˆš returns null for empty/null (1 ms)
    âˆš returns null for non-numeric (2 ms)
  parseComp (MUR-BLC-14-01)
    âˆš extracts codigo (2 ms)
    Ã— extracts titulo (3 ms)
    âˆš extracts unidade = m
    âˆš extracts grupo
    âˆš extracts quantidade ref
    âˆš extracts tags (1 ms)
    âˆš extracts custo direto total = 66.07
    âˆš extracts HH total = 0.8941
  parseCompDetail (MUR-BLC-14-01)
    âˆš extracts custo_material from SUBTOTAL (5 ms)
    âˆš extracts custo_mo from TOTAL M.O. (1 ms)
    âˆš extracts peso_total from SUBTOTAL row (1 ms)
    âˆš extracts hhProfs with correct professions (1 ms)
    âˆš HH values match
    âˆš extracts equipe string
    âˆš calculates produtividade (1 ms)
  splitComps
    âˆš single composition returns array of 1 (2 ms)
    âˆš two compositions separated by header (1 ms)
  normalizeComposition
    âˆš returns empty string for null (1 ms)
    âˆš is idempotent (applying twice gives same result) (3 ms)
    âˆš normalizes line endings (1 ms)
    âˆš replaces --- with * * * (1 ms)
    âˆš limits excessive blank lines
  parseComp on all v4 fixtures
    âˆš CONTR-ARM-5CM-01.md: extracts codigo and custo (1 ms)
    âˆš DEM-CER-PAR.md: extracts codigo and custo (1 ms)
    âˆš DEM-CONTRAPISO.md: extracts codigo and custo (1 ms)
    âˆš DEM-DW-350.md: extracts codigo and custo (1 ms)
    âˆš DEM-FORRO-350.md: extracts codigo and custo (1 ms)
    âˆš DEM-PISO-CER.md: extracts codigo and custo (1 ms)
    âˆš IMP-PREP-MEIACANA-01.md: extracts codigo and custo (14 ms)
    âˆš IMP-VIAP-7000-01.md: extracts codigo and custo (3 ms)
    âˆš INF-CRT-PAR-15X15.md: extracts codigo and custo (2 ms)
    âˆš INF-CRT-PIS-20X15.md: extracts codigo and custo (1 ms)
    âˆš LOG-ENT-ENSAC-100.md: extracts codigo and custo (1 ms)
    âˆš LOG-MAT-TRANSP-100.md: extracts codigo and custo
    âˆš MUR-BLC-14-01.md: extracts codigo and custo (2 ms)
    âˆš MUR-CNT-14-01.md: extracts codigo and custo (1 ms)
    âˆš PIS-ENCH-ARG-20.md: extracts codigo and custo (9 ms)
    âˆš PIS-ENCH-ARG-25.md: extracts codigo and custo (1 ms)
    âˆš REG-PISO-4CM.md: extracts codigo and custo (1 ms)
    âˆš REV-PAR-EMB.md: extracts codigo and custo (1 ms)
    âˆš SOC-MAC-EPS.md: extracts codigo and custo (1 ms)
    âˆš SOC-VAZ-TIJ.md: extracts codigo and custo (2 ms)

  â— parseComp (MUR-BLC-14-01) â€º extracts titulo

    expect(received).toContain(expected) // indexOf

    Expected substring: "MURETA SIMPLES"
    Received string:    "Mureta Simples de Bloco de Concreto Vazado 14cm â€” ContenÃ§Ã£o sobre Laje"

    [0m [90m 59 |[39m
     [90m 60 |[39m     test([32m'extracts titulo'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 61 |[39m         expect(result[33m.[39mtitulo)[33m.[39mtoContain([32m'MURETA SIMPLES'[39m)[33m;[39m
     [90m    |[39m                               [31m[1m^[22m[39m
     [90m 62 |[39m     })[33m;[39m
     [90m 63 |[39m
     [90m 64 |[39m     test([32m'extracts unidade = m'[39m[33m,[39m () [33m=>[39m {[0m

      at Object.toContain (__tests__/parsers.test.js:61:31)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 49 passed, 50 total
Snapshots:   0 total
Time:        1.051 s
Ran all test suites.
